{"version":3,"sources":["tadaboard-embed.js","src/tadaboard-embed.js"],"names":[],"mappings":"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","file":"tadaboard-embed.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.Tadaboard = factory()\n}(this, function () { 'use strict';\n\n  class Tadaboard {\n    constructor(containerElement, tadaboardId, options = {}) {\n      if (!containerElement || !containerElement.nodeType) {\n        throw new TypeError('Tadaboard: first argument must be an html element');\n      }\n\n      if (!tadaboardId || !tadaboardId.length) {\n        throw new TypeError('Tadaboard: second argument must be the tadaboard share id');\n      }\n\n      this.containerElement = containerElement;\n      this.tadaboardId = tadaboardId;\n      this.options = options;\n      this._setupIframe();\n    }\n\n    _setupIframe() {\n      this.iframe = document.createElement('iframe');\n      this.iframe.setAttribute('src', (this.options.customDomain || 'https://www.tadaboard.com') + '/e/' + this.tadaboardId);\n      this.iframe.setAttribute('frameborder', '0');\n      this.iframe.setAttribute('scrolling', 'no');\n      this.containerElement.appendChild(this.iframe);\n      if (this.options.width && this.options.height) {\n        this.iframe.style.width = this.options.width + 'px';\n        this.iframe.style.height = this.options.height + 'px';\n      } else {\n        this.iframe.style.width = '100%';\n        window.addEventListener('message', (event) => {\n          if (event.data.type == 'tadaboardSize') {\n            this.iframe.style.height = event.data.height + 'px';\n          }\n          if (this.options.showTitle == '0') {\n            this.iframe.contentWindow.postMessage({showTitle: false}, '*');\n          }\n        }, false);\n      }\n    }\n\n    static runParser() {\n      var embeds = document.getElementsByClassName('tadaboard-embed');\n      for (var i = 0; i < embeds.length; i++) {\n        var embedElement = embeds[i];\n        if (embedElement.children.length > 0) { break; }\n        if (embedElement.dataset.width && embedElement.dataset.height) {\n          new Tadaboard(embedElement, embedElement.dataset.id, {width: embedElement.dataset.width, height: embedElement.dataset.height, showTitle: embedElement.dataset.title});\n        } else {\n          new Tadaboard(embedElement, embedElement.dataset.id);\n        }\n      }\n    }\n  }\n\n  if (typeof window !== 'undefined' && window.TadaboardAutoload) {\n    window.TadaboardAutoload = undefined;\n    Tadaboard.runParser();\n  }\n\n  var tadaboard_embed = Tadaboard;\n\n  return tadaboard_embed;\n\n}));\n","class Tadaboard {\n  constructor(containerElement, tadaboardId, options = {}) {\n    if (!containerElement || !containerElement.nodeType) {\n      throw new TypeError('Tadaboard: first argument must be an html element');\n    }\n\n    if (!tadaboardId || !tadaboardId.length) {\n      throw new TypeError('Tadaboard: second argument must be the tadaboard share id');\n    }\n\n    this.containerElement = containerElement;\n    this.tadaboardId = tadaboardId;\n    this.options = options;\n    this._setupIframe();\n  }\n\n  _setupIframe() {\n    this.iframe = document.createElement('iframe');\n    this.iframe.setAttribute('src', (this.options.customDomain || 'https://www.tadaboard.com') + '/e/' + this.tadaboardId);\n    this.iframe.setAttribute('frameborder', '0');\n    this.iframe.setAttribute('scrolling', 'no');\n    this.containerElement.appendChild(this.iframe);\n    if (this.options.width && this.options.height) {\n      this.iframe.style.width = this.options.width + 'px';\n      this.iframe.style.height = this.options.height + 'px';\n    } else {\n      this.iframe.style.width = '100%';\n      window.addEventListener('message', (event) => {\n        if (event.data.type == 'tadaboardSize') {\n          this.iframe.style.height = event.data.height + 'px';\n        }\n        if (this.options.showTitle == '0') {\n          this.iframe.contentWindow.postMessage({showTitle: false}, '*');\n        }\n      }, false);\n    }\n  }\n\n  static runParser() {\n    var embeds = document.getElementsByClassName('tadaboard-embed');\n    for (var i = 0; i < embeds.length; i++) {\n      var embedElement = embeds[i];\n      if (embedElement.children.length > 0) { break; }\n      if (embedElement.dataset.width && embedElement.dataset.height) {\n        new Tadaboard(embedElement, embedElement.dataset.id, {width: embedElement.dataset.width, height: embedElement.dataset.height, showTitle: embedElement.dataset.title});\n      } else {\n        new Tadaboard(embedElement, embedElement.dataset.id);\n      }\n    }\n  }\n}\n\nif (typeof window !== 'undefined' && window.TadaboardAutoload) {\n  window.TadaboardAutoload = undefined;\n  Tadaboard.runParser();\n}\n\nexport default Tadaboard;\n"],"sourceRoot":"/source/"}